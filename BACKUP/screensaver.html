<!DOCTYPE html>
<html onclick = 'changeMode()'>
  <head>
    <link rel = 'icon'  href = 'images/blank.png' type = 'image/png'/>
    <title>&lrm;</title>
    <style>
      #canvas {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
<body>
<canvas id = 'canvas'>Sorry, your browser does not support HTML5.</canvas>
<script>
  let ctx = canvas.getContext('2d');
  let mode = 1;
  let modes = 2;
  
  function changeMode() {
    mode++;
    if (mode > modes) mode = 1;
    if (mode == 1) {
      r1 = Math.round(Math.random() * 255);
      g1 = Math.round(Math.random() * 255);
      b1 = Math.round(Math.random() * 255);
      r2 = Math.round(Math.random() * 255);
      g2 = Math.round(Math.random() * 255);
      b2 = Math.round(Math.random() * 255);
      r1_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
      g1_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
      b1_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
      r2_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
      g2_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
      b2_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
      a_ = Math.floor(Math.random() * 2) == 1 ? 0.5 : -0.5;
      /*let rand = Math.floor(Math.random() * 3);
      switch (rand) {
        case 0: direction = 'top right';
        break;
        case 1: direction = 'right';
        break;
        case 2: direction = 'bottom right';
      }*/
      a = Math.round(Math.random() * 360);
      upColor();
    }
  }
  
  let r1 = Math.round(Math.random() * 255);
  let g1 = Math.round(Math.random() * 255);
  let b1 = Math.round(Math.random() * 255);
  let r2 = Math.round(Math.random() * 255);
  let g2 = Math.round(Math.random() * 255);
  let b2 = Math.round(Math.random() * 255);
  
  let r1_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
  let g1_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
  let b1_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
  let r2_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
  let g2_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
  let b2_ = Math.floor(Math.random() * 2) == 1 ? 1 : -1;
  let a = Math.round(Math.random() * 360);
  let a_ = Math.floor(Math.random() * 2) == 1 ? 0.5 : -0.5;
  function upColor() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    if (r1 > 255 || r1 < 0) r1_ *= -1;
    if (g1 > 255 || g1 < 0) g1_ *= -1;
    if (b1 > 255 || b1 < 0) b1_ *= -1;
    if (r2 > 255 || r2 < 0) r2_ *= -1;
    if (g2 > 255 || g2 < 0) g2_ *= -1;
    if (b2 > 255 || b2 < 0) b2_ *= -1;
    r1 += r1_;
    g1 += g1_;
    b1 += b1_;
    r2 += r2_;
    g2 += g2_;
    b2 += b2_;
    a += a_;
    canvas.style.backgroundImage = `linear-gradient(${a}deg,rgb(${r1},${g1},${b1}),rgb(${r2},${g2},${b2}))`;
    if (mode == 1) requestAnimationFrame(upColor);
  }
  upColor();
  
  
  
  function createArray(rows) {
    let arr = [];
    for (let i = 0; i < rows; i++) arr[i] = [];
    return arr;
  }
  
  let grid = createArray(Math.ceil(canvas.height / 5));
  // Grid of cells, has small chance to invert color, possible slowly ascending in color
</script>
</body>
</html>
